(function(e){function t(t){for(var o,r,u=t[0],l=t[1],c=t[2],s=0,d=[];s<u.length;s++)r=u[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={app:0},i={app:0},a=[];function u(e){return l.p+"js/"+({manage:"manage",not_found:"not_found"}[e]||e)+"."+{manage:"fc17e572",not_found:"f1ccdd6d"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={manage:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({manage:"manage",not_found:"not_found"}[e]||e)+"."+{manage:"d008b3ba",not_found:"31d6cfe0"}[e]+".css",i=l.p+o,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var c=a[u],s=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(s===o||s===i))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){c=d[u],s=c.getAttribute("data-href");if(s===o||s===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete r[e],f.parentNode.removeChild(f),n(a)},f.href=i;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){r[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=i[e]=[t,n]}));t.push(o[2]=a);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=u(e);var d=new Error;c=function(t){s.onerror=s.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"5a7b":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("d4ec"),r=n("bee2"),i=(n("159b"),n("b0c0"),n("d3b7"),function(){function e(t){Object(o["a"])(this,e),this.headers=new Headers,this.requestInit={method:"GET",headers:this.getHeaders(),mode:"cors",cache:"default",credentials:"include"},this.requestHooks=[],this.responseHooks=[],t&&(this.requestInit=t)}return Object(r["a"])(e,[{key:"callRequestHook",value:function(t){for(var n,o=t,r=0;r<e.globalRequestHooks.length;r++)if(n=e.globalRequestHooks[r](o),o=n.request,n.isBreak)return n;for(var i=0;i<this.requestHooks.length;i++)if(n=this.requestHooks[i](o),o=n.request,n.isBreak)return n;return{request:o,isBreak:!1}}},{key:"callResponseHook",value:function(t){for(var n,o=t,r=0;r<e.globalResponseHooks.length;r++)if(n=e.globalResponseHooks[r](o),o=n.response,n.isBreak)return n;for(var i=0;i<this.responseHooks.length;i++)if(n=this.responseHooks[i](t),o=n.response,n.isBreak)return n;return{response:o,isBreak:!1}}},{key:"getHeaders",value:function(){return this.headers}},{key:"setHeaders",value:function(e){var t=this;e.forEach((function(e){t.headers.set(e.name,e.value)}))}},{key:"setHeader",value:function(e,t){this.headers.set(e,t)}},{key:"getRequestInit",value:function(){return this.requestInit}},{key:"setRequestInit",value:function(e){e.body&&(this.requestInit.body=e.body),e.cache&&(this.requestInit.cache=e.cache),e.credentials&&(this.requestInit.credentials=e.credentials),e.headers&&(this.requestInit.headers=e.headers),e.integrity&&(this.requestInit.integrity=e.integrity),e.keepalive&&(this.requestInit.keepalive=e.keepalive),e.method&&(this.requestInit.method=e.method),e.mode&&(this.requestInit.mode=e.mode),e.redirect&&(this.requestInit.redirect=e.redirect),e.referrer&&(this.requestInit.referrer=e.referrer),e.referrerPolicy&&(this.requestInit.referrerPolicy=e.referrerPolicy),e.signal&&(this.requestInit.signal=e.signal),e.window&&(this.requestInit.window=e.window)}},{key:"get",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="GET",this.ajax(e,this.getRequestInit())}},{key:"post",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="POST",this.ajax(e,this.getRequestInit())}},{key:"put",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="PUT",this.ajax(e,this.getRequestInit())}},{key:"patch",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="PATCH",this.ajax(e,this.getRequestInit())}},{key:"delete",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="DELETE",this.ajax(e,this.getRequestInit())}},{key:"head",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="HEAD",this.ajax(e,this.getRequestInit())}},{key:"options",value:function(e,t){return t&&(this.requestInit=t),this.requestInit.method="OPTIONS",this.ajax(e,this.getRequestInit())}},{key:"ajax",value:function(e,t){var n=this,o=new Request(e,t),r=this.callRequestHook(o);return r.isBreak?new Promise((function(){return new Response})):fetch(r.request).then((function(e){var t=n.callResponseHook(e);return t.response}))}},{key:"addRequestHook",value:function(e){this.requestHooks.push(e)}},{key:"addGlobalRequestHook",value:function(t){e.globalRequestHooks.push(t)}},{key:"addResponseHook",value:function(e){this.responseHooks.push(e)}},{key:"addGlobalResponseHook",value:function(t){e.globalResponseHooks.push(t)}}],[{key:"new",value:function(t){return new e(t)}},{key:"getInstance",value:function(){return new e}}]),e}());function a(){return new i}i.globalRequestHooks=[],i.globalResponseHooks=[];a()},7039:function(e,t,n){"use strict";n("8190")},"7b17":function(e,t,n){},8190:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t){var n=Object(o["M"])("router-view");return Object(o["D"])(),Object(o["i"])(n)}n("7039");var i=n("6b0d"),a=n.n(i);const u={},l=a()(u,[["render",r]]);var c=l,s=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),d=(n("b0c0"),Object(o["fb"])("data-v-e2a81256"));Object(o["G"])("data-v-e2a81256");var f=Object(o["l"])("打开"),b=Object(o["l"])("编辑"),m=Object(o["l"])("删除"),p=Object(o["l"])("连接"),h=Object(o["l"])("新建"),j=Object(o["l"])("管理"),_={class:"dialog-footer"},O=Object(o["l"])("取消"),g=Object(o["l"])("连接"),v=Object(o["l"])("      "),y={key:0,class:"dialog-footer"},w=Object(o["l"])("保存"),k=Object(o["l"])("连接并保存"),V={key:1,class:"dialog-footer"},q=Object(o["l"])("更新"),H=Object(o["l"])("连接并更新"),C=Object(o["l"])("下载"),I=Object(o["l"])("上传"),M=Object(o["l"])("GitHub"),x=Object(o["l"])("会话"),F=Object(o["l"])("主机"),R=Object(o["l"])("用户"),U=Object(o["l"])("端口"),T={style:{margin:"1px"}};Object(o["E"])();var D,z,E=d((function(e,t,n,r,i,a){var u=Object(o["M"])("el-button"),l=Object(o["M"])("el-table-column"),c=Object(o["M"])("el-popconfirm"),s=Object(o["M"])("el-table"),D=Object(o["M"])("el-popover"),z=Object(o["M"])("el-input"),E=Object(o["M"])("el-form-item"),S=Object(o["M"])("el-input-number"),P=Object(o["M"])("el-col"),A=Object(o["M"])("el-color-picker"),B=Object(o["M"])("el-row"),L=Object(o["M"])("el-option"),G=Object(o["M"])("el-select"),N=Object(o["M"])("el-form"),Q=Object(o["M"])("el-dialog"),K=Object(o["M"])("el-button-group"),J=Object(o["M"])("el-header"),W=Object(o["M"])("el-tooltip"),X=Object(o["M"])("el-tab-pane"),Y=Object(o["M"])("el-tabs"),Z=Object(o["M"])("el-container");return Object(o["D"])(),Object(o["i"])(Z,null,{default:d((function(){return[Object(o["m"])(J,{style:{"text-align":"left",height:"28px","padding-left":"0px","padding-right":"0px"}},{default:d((function(){return[Object(o["m"])(B,null,{default:d((function(){return[Object(o["m"])(P,{span:12},{default:d((function(){return[Object(o["m"])(K,null,{default:d((function(){return[Object(o["m"])(D,{placement:"bottom",trigger:"click",width:600},{reference:d((function(){return[Object(o["m"])(u,{type:"primary",icon:"el-icon-menu"},{default:d((function(){return[f]})),_:1})]})),default:d((function(){return[Object(o["m"])(s,{data:e.host_list,height:"260"},{default:d((function(){return[Object(o["m"])(l,{fixed:"left",width:"150",property:"name",label:"名称"}),Object(o["m"])(l,{width:"150",property:"address",label:"主机"}),Object(o["m"])(l,{width:"100",property:"user",label:"用户"}),Object(o["m"])(l,{width:"60",property:"port",label:"端口"}),Object(o["m"])(l,{label:"操作",fixed:"right",width:"300"},{default:d((function(t){return[Object(o["m"])(u,{size:"mini",onClick:function(n){return e.editHost(t.row)}},{default:d((function(){return[b]})),_:2},1032,["onClick"]),Object(o["m"])(c,{confirmButtonText:"删除",cancelButtonText:"取消",icon:"el-icon-info",iconColor:"red",title:"确定删除吗",onConfirm:function(n){return e.deleteHost(t.row)}},{reference:d((function(){return[Object(o["m"])(u,{size:"mini",type:"danger"},{default:d((function(){return[m]})),_:1})]})),_:2},1032,["onConfirm"]),Object(o["m"])(u,{size:"mini",type:"primary",onClick:function(n){return e.connectHost(t.row)}},{default:d((function(){return[p]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1}),Object(o["m"])(u,{type:"primary",onClick:e.newHost,icon:"el-icon-circle-plus"},{default:d((function(){return[h]})),_:1},8,["onClick"]),Object(o["m"])(u,{type:"primary",onClick:e.toManage,icon:"el-icon-s-custom"},{default:d((function(){return[j]})),_:1},8,["onClick"]),Object(o["m"])(Q,{title:0==e.mode?"新增主机":"更新主机",modelValue:e.host_dialog_visible,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.host_dialog_visible=t}),width:"60%"},{footer:d((function(){return[Object(o["m"])("span",_,[Object(o["m"])(u,{onClick:t[13]||(t[13]=function(t){return e.host_dialog_visible=!1})},{default:d((function(){return[O]})),_:1}),Object(o["m"])(u,{type:"success",onClick:e.connect},{default:d((function(){return[g]})),_:1},8,["onClick"])]),v,0==e.mode?(Object(o["D"])(),Object(o["i"])("span",y,[Object(o["m"])(u,{type:"primary",onClick:t[14]||(t[14]=function(t){return e.createHost(!1)})},{default:d((function(){return[w]})),_:1}),Object(o["m"])(u,{type:"primary",onClick:t[15]||(t[15]=function(t){return e.createHost(!0)})},{default:d((function(){return[k]})),_:1})])):Object(o["j"])("",!0),1==e.mode?(Object(o["D"])(),Object(o["i"])("span",V,[Object(o["m"])(u,{type:"primary",onClick:t[16]||(t[16]=function(t){return e.updateHost(!1)})},{default:d((function(){return[q]})),_:1}),Object(o["m"])(u,{type:"primary",onClick:t[17]||(t[17]=function(t){return e.updateHost(!0)})},{default:d((function(){return[H]})),_:1})])):Object(o["j"])("",!0)]})),default:d((function(){return[Object(o["m"])(N,{"label-width":"80px",ref:"host_from",size:"small"},{default:d((function(){return[Object(o["m"])(E,{label:"名称",prop:"name"},{default:d((function(){return[Object(o["m"])(z,{modelValue:e.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.name=t}),modelModifiers:{trim:!0},minlength:"1",maxlength:"30","show-word-limit":"",placeholder:"请输入名称"},null,8,["modelValue"])]})),_:1}),Object(o["m"])(E,{label:"主机",prop:"address"},{default:d((function(){return[Object(o["m"])(z,{modelValue:e.address,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.address=t}),modelModifiers:{trim:!0},minlength:"1",maxlength:"60","show-word-limit":"",placeholder:"请输入主机地址"},null,8,["modelValue"])]})),_:1}),Object(o["m"])(E,{label:"用户",prop:"user"},{default:d((function(){return[Object(o["m"])(z,{minlength:"1",maxlength:"60",modelValue:e.user,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.user=t}),modelModifiers:{trim:!0},"show-word-limit":"",placeholder:"请输入用户名"},null,8,["modelValue"])]})),_:1}),Object(o["m"])(E,{label:"密码",prop:"pwd"},{default:d((function(){return[Object(o["m"])(z,{minlength:"1",maxlength:"60",modelValue:e.pwd,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.pwd=t}),modelModifiers:{trim:!0},type:"passrowd","show-password":"","show-word-limit":"",placeholder:"密码"},null,8,["modelValue"])]})),_:1}),Object(o["m"])(B,null,{default:d((function(){return[Object(o["m"])(P,{span:9},{default:d((function(){return[Object(o["m"])(E,{label:"端口",prop:"port"},{default:d((function(){return[Object(o["m"])(S,{modelValue:e.port,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.port=t}),min:1,max:65535,label:"端口"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:5},{default:d((function(){return[Object(o["m"])(E,{label:"字体颜色"},{default:d((function(){return[Object(o["m"])(A,{modelValue:e.foreground,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.foreground=t})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:5},{default:d((function(){return[Object(o["m"])(E,{label:"背景颜色"},{default:d((function(){return[Object(o["m"])(A,{modelValue:e.background,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.background=t})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:5},{default:d((function(){return[Object(o["m"])(E,{label:"光标颜色"},{default:d((function(){return[Object(o["m"])(A,{modelValue:e.cursor_color,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.cursor_color=t})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["m"])(B,null,{default:d((function(){return[Object(o["m"])(P,{span:9},{default:d((function(){return[Object(o["m"])(E,{label:"字体"},{default:d((function(){return[Object(o["m"])(G,{style:{width:"130px"},modelValue:e.font_family,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.font_family=t}),placeholder:"请选择字体"},{default:d((function(){return[Object(o["m"])(L,{label:"Courier",value:"Courier"}),Object(o["m"])(L,{label:"Courier New",value:"Courier New"}),Object(o["m"])(L,{label:"Menlo",value:"Menlo"}),Object(o["m"])(L,{label:"Monaco",value:"Monaco"}),Object(o["m"])(L,{label:"monospace",value:"monospace"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:5},{default:d((function(){return[Object(o["m"])(E,{label:"字体大小"},{default:d((function(){return[Object(o["m"])(G,{modelValue:e.font_size,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.font_size=t}),placeholder:"请选择字体大小"},{default:d((function(){return[Object(o["m"])(L,{label:"8",value:"8"}),Object(o["m"])(L,{label:"12",value:"12"}),Object(o["m"])(L,{label:"14",value:"14"}),Object(o["m"])(L,{label:"16",value:"16"}),Object(o["m"])(L,{label:"18",value:"18"}),Object(o["m"])(L,{label:"20",value:"20"}),Object(o["m"])(L,{label:"22",value:"22"}),Object(o["m"])(L,{label:"24",value:"24"}),Object(o["m"])(L,{label:"26",value:"26"}),Object(o["m"])(L,{label:"28",value:"28"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:5},{default:d((function(){return[Object(o["m"])(E,{label:"光标样式"},{default:d((function(){return[Object(o["m"])(G,{modelValue:e.cursor_style,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.cursor_style=t}),placeholder:"请选择光标样式"},{default:d((function(){return[Object(o["m"])(L,{label:"块状",value:"block"}),Object(o["m"])(L,{label:"下划线",value:"underline"}),Object(o["m"])(L,{label:"竖线",value:"bar"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:5},{default:d((function(){return[Object(o["m"])(E,{label:"Shell"},{default:d((function(){return[Object(o["m"])(G,{modelValue:e.shell,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.shell=t}),placeholder:"请选择Shell"},{default:d((function(){return[Object(o["m"])(L,{label:"bash",value:"bash"}),Object(o["m"])(L,{label:"csh",value:"csh"}),Object(o["m"])(L,{label:"zsh",value:"zsh"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},512)]})),_:1},8,["title","modelValue"]),Object(o["m"])(Q,{modelValue:e.file_dialog_visible,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.file_dialog_visible=t}),width:"80%","custom-class":"huang"},{title:d((function(){return[Object(o["m"])("span",{innerHTML:e.title},null,8,["innerHTML"])]})),default:d((function(){return[Object(o["m"])(K,null,{default:d((function(){return[(Object(o["D"])(!0),Object(o["i"])(o["b"],null,Object(o["K"])(e.dir_info.paths,(function(t,n){return Object(o["D"])(),Object(o["i"])(u,{key:n,onClick:function(n){return e.listDir(t.dir,e.current_host)}},{default:d((function(){return[Object(o["l"])(Object(o["Q"])(t.name),1)]})),_:2},1032,["onClick"])})),128))]})),_:1}),Object(o["m"])(s,{data:e.dir_info.files,height:"400"},{default:d((function(){return[Object(o["m"])(l,{prop:"name",label:"文件名",fixed:"left",sortable:""},{default:d((function(t){return["f"===t.row.type?(Object(o["D"])(),Object(o["i"])(u,{key:0,onClick:function(n){return e.downloadFile(t.row)},type:"text",size:"small",icon:"el-icon-tickets",style:{color:"green"}},{default:d((function(){return[Object(o["l"])(Object(o["Q"])(t.row.name),1)]})),_:2},1032,["onClick"])):Object(o["j"])("",!0),"d"===t.row.type?(Object(o["D"])(),Object(o["i"])(u,{key:1,onClick:function(n){return e.listDir(t.row.path,e.current_host)},type:"text",size:"small",icon:"el-icon-folder-opened"},{default:d((function(){return[Object(o["l"])(Object(o["Q"])(t.row.name),1)]})),_:2},1032,["onClick"])):Object(o["j"])("",!0)]})),_:1}),Object(o["m"])(l,{prop:"size",label:"大小",width:"100",sortable:""}),Object(o["m"])(l,{prop:"mode",label:"权限",width:"100",sortable:""}),Object(o["m"])(l,{prop:"mod_time",label:"修改日期",width:"180",sortable:""}),Object(o["m"])(l,{label:"操作",width:"100",fixed:"right"},{default:d((function(t){return["f"==t.row.type?(Object(o["D"])(),Object(o["i"])(u,{key:0,onClick:function(n){return e.downloadFile(t.row)},type:"success",icon:"el-icon-download"},{default:d((function(){return[C]})),_:2},1032,["onClick"])):(Object(o["D"])(),Object(o["i"])(u,{key:1,type:"primary",icon:"el-icon-upload2",onClick:function(n){return e.uploadFile(t.row)}},{default:d((function(){return[I]})),_:2},1032,["onClick"]))]})),_:1})]})),_:1},8,["data"])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(o["m"])(P,{span:6}),Object(o["m"])(P,{span:6,style:{"text-align":"right"}},{default:d((function(){return[Object(o["m"])(u,{type:"success",onClick:e.toGitHub},{default:d((function(){return[M]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(o["m"])("div",null,[Object(o["m"])(Y,{modelValue:e.current_host.session_id,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.current_host.session_id=t}),type:"card",closable:"",onTabRemove:e.removeTab,onTabClick:e.selectTab},{default:d((function(){return[(Object(o["D"])(!0),Object(o["i"])(o["b"],null,Object(o["K"])(e.host_tabs,(function(t){return Object(o["D"])(),Object(o["i"])(X,{key:t.session_id,label:t.name,name:t.session_id},{label:d((function(){return[Object(o["m"])(K,null,{default:d((function(){return[Object(o["m"])(D,{placement:"bottom",width:400,trigger:"hover"},{reference:d((function(){return[Object(o["m"])(u,{round:"",type:t.session_id===e.current_host.session_id?"primary":"info"},{default:d((function(){return[Object(o["l"])(Object(o["Q"])(t.name),1)]})),_:2},1032,["type"])]})),default:d((function(){return[Object(o["m"])("div",null,[Object(o["m"])("div",null,[Object(o["m"])(z,{disabled:"",modelValue:t.session_id,"onUpdate:modelValue":function(e){return t.session_id=e}},{prepend:d((function(){return[x]})),_:2},1032,["modelValue","onUpdate:modelValue"])]),Object(o["m"])("div",null,[Object(o["m"])(z,{disabled:"",modelValue:t.address,"onUpdate:modelValue":function(e){return t.address=e}},{prepend:d((function(){return[F]})),_:2},1032,["modelValue","onUpdate:modelValue"])]),Object(o["m"])("div",null,[Object(o["m"])(z,{disabled:"",modelValue:t.user,"onUpdate:modelValue":function(e){return t.user=e}},{prepend:d((function(){return[R]})),_:2},1032,["modelValue","onUpdate:modelValue"])]),Object(o["m"])("div",null,[Object(o["m"])(z,{disabled:"",modelValue:t.port,"onUpdate:modelValue":function(e){return t.port=e}},{prepend:d((function(){return[U]})),_:2},1032,["modelValue","onUpdate:modelValue"])])])]})),_:2},1024),Object(o["m"])(W,{class:"item",effect:"dark",content:"文件传输",placement:"top"},{default:d((function(){return[Object(o["m"])(u,{round:"",type:t.session_id===e.current_host.session_id?"primary":"info",onClick:function(n){return e.listDir("/",t)},icon:"el-icon-sort"},null,8,["type","onClick"])]})),_:2},1024)]})),_:2},1024)]})),default:d((function(){return[Object(o["m"])("div",T,[Object(o["m"])("div",{id:t.session_id},null,8,["id"])])]})),_:2},1032,["label","name"])})),128))]})),_:1},8,["modelValue","onTabRemove","onTabClick"])])]})),_:1})})),S=n("5530"),P=(n("99af"),n("2b3d"),n("159b"),n("a434"),n("abb2"),n("5a7b")),A=n("fcf3"),B=n("173c"),L=n("47d0"),G=n("3fd4");(function(e){e[e["create"]=0]="create",e[e["update"]=1]="update"})(z||(z={}));var N=Object(o["H"])({mode:z.create,id:0,name:"",address:"",user:"",pwd:"",port:22,h:20,w:80,session_id:"",background:"#000000",foreground:"#FFFFFF",cursor_color:"#FFFFFF",font_family:"Courier",font_size:16,cursor_style:"block",shell:"bash",upload_path:"",download_path:"",host_list:[],host_tabs:[],current_host:{session_id:""},host_dialog_visible:!1,file_dialog_visible:!1,dir_info:{}}),Q=Object(o["g"])((function(){var e='<span style="color:red;">当前名称:'.concat(N.current_host.name," &nbsp;&nbsp;&nbsp;当前主机:").concat(N.current_host.address,"</span>");return e}));function K(){var e={host:{},is_success:!1};if(0===N.name.length)return G["a"].error("名称不能为空"),e;if(N.name.length>30)return G["a"].error("名称不能大于30个字符"),e;if(0===N.address.length)return G["a"].error("主机不能为空"),e;if(N.address.length>60)return G["a"].error("主机不能大于60个字符"),e;if(0===N.user.length)return G["a"].error("用户名不能为空"),e;if(N.user.length>60)return G["a"].error("用户名不能大于60个字符"),e;if(0===N.user.length)return G["a"].error("用户名不能为空"),e;if(N.user.length>60)return G["a"].error("用户名不能大于60个字符"),e;if(0===N.pwd.length)return G["a"].error("密码不能为空"),e;if(N.user.length>60)return G["a"].error("密码不能大于60个字符"),e;if(!N.port)return G["a"].error("端口输入错误,必须是1-65535"),e;if(N.port<1||N.port>65535)return G["a"].error("端口范围错误,必须是1-65535"),e;var t={id:N.id,name:N.name,address:N.address,user:N.user,pwd:N.pwd,port:N.port,session_id:N.session_id,background:N.background,foreground:N.foreground,cursor_color:N.cursor_color,font_family:N.font_family,font_size:N.font_size,cursor_style:N.cursor_style,shell:N.shell},n={host:t,is_success:!0};return n}function J(){N.id=0,N.name="",N.address="",N.user="",N.pwd="",N.port=22,N.session_id="",N.background="#000000",N.foreground="#FFFFFF",N.cursor_color="#FFFFFF",N.font_family="Courier",N.font_size=16,N.cursor_style="block",N.shell="bash"}function W(){var e=K();e.is_success&&ue(e.host)}function X(e,t){N.file_dialog_visible=!0,t&&se(t.session_id);var n=Object(S["a"])({},N.current_host);if(n.hasOwnProperty("session_id")){var o=new P["a"],r="/api/file?session_id=".concat(n.session_id,"&path=").concat(e);o.get(r).then((function(e){return e.json()})).then((function(e){0===e.code&&(N.dir_info=e.data)}))}}function Y(e){function t(t){var n=new FormData;n.append("session_id",N.current_host.session_id),n.append("path",e.path);for(var o=0;o<t.length;o++)n.append("file",t[o]);var r=new P["a"];r.put("/api/file",{body:n}).then((function(e){return e.json()})).then((function(e){0===e.code&&G["a"].success(e.msg)}))}var n=document.createElement("input");n.type="file",n.multiple=!0,n.onchange=function(e){var o=n.files;t(o)},n.click()}function Z(e){var t=new FormData;t.append("session_id",N.current_host.session_id),t.append("path",e.path);var n=new P["a"];n.post("/api/file",{body:t}).then((function(t){return t.blob().then((function(t){var n=document.createElement("a"),o=window.URL.createObjectURL(t);n.href=o,n.download=e.name,n.click(),window.URL.revokeObjectURL(o)}))}))}function $(){var e=new P["a"];e.get("/api/host").then((function(e){return e.json().then((function(e){0===e.code&&null!=e.data&&(N.host_list=e.data)}))}))}function ee(e,t){var n=new P["a"];if(0==t)for(var o=0;o<N.host_list.length;o++){var r=N.host_list[o];if(r.name==e.name)return void G["a"].error("名称已经存在,请修改")}N.host_dialog_visible=!1;var i=new FormData;i.append("id",String(e.id)),i.append("name",e.name),i.append("address",e.address),i.append("user",e.user),i.append("pwd",e.pwd),i.append("port",String(e.port)),i.append("font_size",String(e.font_size)),i.append("background",e.background),i.append("foreground",e.foreground),i.append("cursor_color",e.cursor_color),i.append("font_family",e.font_family),i.append("cursor_style",e.cursor_style),i.append("shell",e.shell),0==t?n.post("/api/host",{body:i}).then((function(e){return e.json()})).then((function(e){0===e.code&&(N.host_list=e.data,J())})):n.put("/api/host",{body:i}).then((function(e){return e.json()})).then((function(e){0===e.code&&(N.host_list=e.data,J())}))}function te(){J(),N.host_dialog_visible=!0,N.mode=0}function ne(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N.mode=z.create;var t=K();t.is_success&&(ee(t.host,z.create),e&&ue(t.host))}function oe(e){N.host_dialog_visible=!0,N.mode=z.update,N.id=e.id,N.address=e.address,N.name=e.name,N.user=e.user,N.pwd=e.pwd,N.port=e.port,N.background=e.background,N.foreground=e.foreground,N.cursor_color=e.cursor_color,N.font_family=e.font_family,N.font_size=e.font_size,N.cursor_style=e.cursor_style,N.shell=e.shell}function re(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=K();t.is_success&&(ee(t.host,z.update),e&&ue(t.host))}function ie(e){var t=new FormData;t.append("id",e.id);var n=new P["a"];n.delete("/api/host",{body:t}).then((function(e){return e.json()})).then((function(e){if(0===e.code){if(null!=e.data)return void(N.host_list=e.data);N.host_list=[]}}))}function ae(e){var t=new FormData;t.append("id",String(e.id)),t.append("name",e.name),t.append("address",e.address),t.append("user",e.user),t.append("pwd",e.pwd),t.append("port",String(e.port)),t.append("shell",e.shell);var n=new P["a"];return n.patch("/api/host",{body:t}).then((function(e){return e.json()})).then((function(e){if(0===e.code)return e.data}))}function ue(e){N.host_dialog_visible=!1,ae(e).then((function(t){var n=Object(S["a"])({},e);n.session_id=t,n.fit=new L["FitAddon"],n.term=new A["Terminal"]({cursorBlink:!0,theme:{background:n.background,foreground:n.foreground,cursor:n.cursor_color},fontSize:n.font_size,fontFamily:n.font_family,cursorStyle:n.cursor_style}),n.term.loadAddon(n.fit),N.host_tabs.push(n),N.current_host=Object(S["a"])({},n),Object(o["u"])((function(){var e=document.getElementById(n.session_id);if(null!==e){n.term.open(e),e.style.height=Math.floor(window.innerHeight-70)+"px",n.fit.fit();var t="h=".concat(n.term.rows,"&w=").concat(n.term.cols,"&session_id=").concat(n.session_id),o="".concat("http:"==location.protocol?"ws://":"wss://").concat(location.host,"/api/ssh?").concat(t);n.term.loadAddon(new B["AttachAddon"](new WebSocket(o))),J()}}))}))}function le(e){var t=0;if(N.host_tabs.forEach((function(n,o){n.session_id===e&&(t=o)})),N.host_tabs[t].fit.dispose(),N.host_tabs[t].term.dispose(),N.host_tabs.splice(t,1),0!==N.host_tabs.length)if(1!==N.host_tabs.length){if(N.host_tabs.length>1){var n=Object(S["a"])({},N.host_tabs[t]);se(n.session_id)}}else{var o=Object(S["a"])({},N.host_tabs[0]);se(o.session_id)}}function ce(e){var t=e.props.name;se(t)}function se(e){N.host_tabs.forEach((function(t){t.session_id!==e||(N.current_host=Object(S["a"])({},t))})),de()}function de(){var e=N.current_host;""!==e.session_id&&"Home"===D.currentRoute.value.name&&Object(o["u"])((function(){var t=document.getElementById(e.session_id);if(null!==t){if(t.style.height=Math.floor(window.innerHeight-70)+"px",e.fit.fit(),N.h!==e.term.rows||N.w!==e.term.cols){var n="/api/ssh?w=".concat(e.term.cols,"&h=").concat(e.term.rows,"&session_id=").concat(e.session_id),o=new P["a"];o.patch(n)}N.h=Math.floor(e.term.rows),N.w=Math.floor(e.term.cols)}}))}function fe(){setInterval((function(){var e=new FormData;new Array;N.host_tabs.forEach((function(t){e.append("ids",t.session_id)}));var t=new P["a"];t.post("/api/status",{body:e}).then((function(e){return e.json()})).then((function(e){e.code}))}),1e4)}function be(){window.open("./#/manage","_blank")}function me(){window.open("https://github.com/o8oo8o/GoWebSSH","_blank")}var pe=Object(o["n"])({name:"terminal",setup:function(e,t){return Object(o["A"])((function(){D=Object(s["c"])(),fe(),$(),window.onresize=de,window.onbeforeunload=function(){return"关闭吗"}})),Object(S["a"])(Object(S["a"])({},Object(o["T"])(N)),{},{title:Q,connect:W,newHost:te,editHost:oe,listDir:X,uploadFile:Y,downloadFile:Z,createHost:ne,updateHost:re,deleteHost:ie,connectHost:ue,removeTab:le,selectTab:ce,toManage:be,toGitHub:me})}});n("cf86");const he=a()(pe,[["render",E],["__scopeId","data-v-e2a81256"]]);var je=he,_e=[{path:"/",name:"Home",component:je},{path:"/manage",name:"Manage",component:function(){return n.e("manage").then(n.bind(null,"f74b"))}},{path:"/:all(.*)",name:"NotFound",component:function(){return n.e("not_found").then(n.bind(null,"9703"))}}],Oe=Object(s["a"])({history:Object(s["b"])(),routes:_e}),ge=Oe;n("7dd6");Object(o["h"])(c).use(ge).use(G["b"],{size:"mini",zIndex:2e3}).mount("#app")},cf86:function(e,t,n){"use strict";n("7b17")}});
//# sourceMappingURL=app.6eb151b5.js.map